import{r as y,o as f,c as p,a as g,n as x,b as c,t as w,d as h,e as k,F as S,f as M,g as _,w as $,h as B,i as C}from"./index-Lwyac9lo.js";import{_ as b}from"./_plugin-vue_export-helper-x3n3nnut.js";const I=["data-cy","name","type","disabled"],T={__name:"Btn",props:{name:{type:String,default:()=>"id-"+Math.random().toString(16).slice(2)},type:{type:String,default:()=>"button"},def:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},round:{type:Boolean,default:!1}},emits:["click","cancel"],setup(e,{emit:a}){const s=a,t=y({down:!1});function l(o){s("click",o)}function u(o){t.down&&(s("cancel",o),t.down=!1)}return(o,r)=>(f(),p("button",{"data-cy":`btn-${e.name}`,name:e.name,type:e.type,disabled:!!e.disabled,class:x({disabled:e.disabled,default:e.def,round:e.round,down:t.down}),onClick:l,onMouseup:r[0]||(r[0]=n=>t.down=!1),onMousedown:r[1]||(r[1]=n=>t.down=!0),onMouseleave:u},[g(o.$slots,"default",{},void 0,!0),g(o.$slots,"icon",{},void 0,!0)],42,I))}},H=b(T,[["__scopeId","data-v-9531c6e6"]]),E={class:"main-input"},F=["value"],L={__name:"InputText",props:{text:String,placeholder:String},emits:["update:text"],setup(e,{emit:a}){const s=a;return(t,l)=>(f(),p("div",E,[c("input",{type:"text",value:e.text,onInput:l[0]||(l[0]=u=>s("update:text",u.target.value))},null,40,F),c("p",{class:x(["label",{animate:e.text.length}])},w(e.placeholder),3)]))}},N=b(L,[["__scopeId","data-v-4d1f0db6"]]),V={class:"main"},W={class:"chat"},D={class:"input-wrapper"},K="wss://ws-chat-ntws.onrender.com",z={__name:"Home",setup(e){const a=h(""),s=h([]);let t;function l(){s.value.push({value:a.value,is_sent:!0,hhmm:u()}),t.send(a.value),a.value=""}function u(){const n=new Date;return n.getHours()+":"+n.getMinutes()}function o(){t=new WebSocket(K),t.addEventListener("open",n=>{console.log("Connected to WebSocket server")}),t.addEventListener("message",async n=>{const i=await r(n.data);s.value.push({value:i,hhmm:u()})})}function r(n){return new Promise((i,d)=>{const m=new FileReader;m.onload=v=>i(v.target.result),m.onerror=v=>d(v.target.error),m.readAsText(n)})}return k(()=>{o()}),(n,i)=>(f(),p("div",V,[c("div",W,[(f(!0),p(S,null,M(s.value,(d,m)=>(f(),p("div",{key:m,class:x(["cloud-text",{sent:d.is_sent}])},[c("p",null,w(d.value),1),c("label",null,w(d.hhmm),1)],2))),128))]),c("div",D,[_(N,{class:"input",placeholder:"Message",text:a.value,"onUpdate:text":i[0]||(i[0]=d=>a.value=d),onKeydown:$(l,["enter"])},null,8,["text"]),_(H,{class:"l-12",onClick:l},{default:B(()=>[C("Send")]),_:1})])]))}},R=b(z,[["__scopeId","data-v-cc3aeab1"]]);export{R as default};
