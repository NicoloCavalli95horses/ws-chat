import{_ as x}from"./_plugin-vue_export-helper-x3n3nnut.js";import{r as y,o as c,c as i,a as w,n as b,b as v,w as g,d as h,v as k,e as S,f as m,F as $,g as B,h as _,i as M,t as C,j as T}from"./index-qaEYCTWo.js";const I=["data-cy","name","type","disabled"],V={__name:"Btn",props:{name:{type:String,default:()=>"id-"+Math.random().toString(16).slice(2)},type:{type:String,default:()=>"button"},def:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},round:{type:Boolean,default:!1}},emits:["click","cancel"],setup(t,{emit:s}){const o=s,e=y({down:!1});function p(n){o("click",n)}function d(n){e.down&&(o("cancel",n),e.down=!1)}return(n,a)=>(c(),i("button",{"data-cy":`btn-${t.name}`,name:t.name,type:t.type,disabled:!!t.disabled,class:b({disabled:t.disabled,default:t.def,round:t.round,down:e.down}),onClick:p,onMouseup:a[0]||(a[0]=l=>e.down=!1),onMousedown:a[1]||(a[1]=l=>e.down=!0),onMouseleave:d},[w(n.$slots,"default",{},void 0,!0),w(n.$slots,"icon",{},void 0,!0)],42,I))}},E=x(V,[["__scopeId","data-v-9531c6e6"]]),F=["placeholder"],L={__name:"InputText",props:{text:String,placeholder:String},emits:["update:text"],setup(t,{emit:s}){const o=s,e=v("");return g(e,()=>{o("update:text",e.value)}),(p,d)=>h((c(),i("input",{type:"text",placeholder:t.placeholder,"onUpdate:modelValue":d[0]||(d[0]=n=>e.value=n)},null,8,F)),[[k,e.value]])}},N=x(L,[["__scopeId","data-v-3a222938"]]),W={class:"main"},D={class:"chat"},H={class:"input-wrapper"},U="wss://ws-chat-ntws.onrender.com",j={__name:"Home",setup(t){const s=v(""),o=v([]);let e;function p(){o.value.push(s.value),e.send(s.value),s.value=""}function d(){e=new WebSocket(U),e.addEventListener("open",a=>{console.log("Connected to WebSocket server")}),e.addEventListener("message",async a=>{const l=await n(a.data);o.value.push(l)})}function n(a){return new Promise((l,r)=>{const u=new FileReader;u.onload=f=>l(f.target.result),u.onerror=f=>r(f.target.error),u.readAsText(a)})}return S(()=>{d()}),(a,l)=>(c(),i("div",W,[m("div",D,[(c(!0),i($,null,B(o.value,(r,u)=>(c(),i("div",{key:u,class:"cloud-text"},[m("p",null,C(r),1)]))),128))]),m("div",H,[_(N,{class:"input",placeholder:"your message...",text:s.value,"onUpdate:text":l[0]||(l[0]=r=>s.value=r)},null,8,["text"]),_(E,{class:"l-12",onClick:p},{default:M(()=>[T("Send")]),_:1})])]))}},P=x(j,[["__scopeId","data-v-06ffd386"]]);export{P as default};
